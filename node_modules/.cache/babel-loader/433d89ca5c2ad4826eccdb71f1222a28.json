{"ast":null,"code":"import _regeneratorRuntime from\"/Users/graj/projects/Personal-Task-Manager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/graj/projects/Personal-Task-Manager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/graj/projects/Personal-Task-Manager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/graj/projects/Personal-Task-Manager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/graj/projects/Personal-Task-Manager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/graj/projects/Personal-Task-Manager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import\"../styles/List.css\";import React,{Component}from\"react\";import{connect}from\"react-redux\";import{Droppable,Draggable}from\"react-beautiful-dnd\";import Card from\"./Card\";import CardEditor from\"./CardEditor\";import shortid from\"shortid\";import ListEditor from\"./ListEditor\";var List=/*#__PURE__*/function(_Component){_inherits(List,_Component);var _super=_createSuper(List);function List(){var _this;_classCallCheck(this,List);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={editingTitle:false,title:_this.props.list.title,addingCard:false};_this.toggleAddingCard=function(){return _this.setState({addingCard:!_this.state.addingCard});};_this.addCard=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(cardText){var _this$props,listId,dispatch,cardId;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$props=_this.props,listId=_this$props.listId,dispatch=_this$props.dispatch;_this.toggleAddingCard();cardId=shortid.generate();dispatch({type:\"ADD_CARD\",payload:{cardText:cardText,cardId:cardId,listId:listId}});case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.toggleEditingTitle=function(){return _this.setState({editingTitle:!_this.state.editingTitle});};_this.handleChangeTitle=function(e){return _this.setState({title:e.target.value});};_this.editListTitle=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _this$props2,listId,dispatch,title;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this$props2=_this.props,listId=_this$props2.listId,dispatch=_this$props2.dispatch;title=_this.state.title;_this.toggleEditingTitle();dispatch({type:\"CHANGE_LIST_TITLE\",payload:{listId:listId,listTitle:title}});case 4:case\"end\":return _context2.stop();}}},_callee2);}));_this.deleteList=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var _this$props3,listId,list,dispatch;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_this$props3=_this.props,listId=_this$props3.listId,list=_this$props3.list,dispatch=_this$props3.dispatch;dispatch({type:\"DELETE_LIST\",payload:{listId:listId,cards:list.cards}});case 2:case\"end\":return _context3.stop();}}},_callee3);}));return _this;}_createClass(List,[{key:\"render\",value:function render(){var _this2=this;var _this$props4=this.props,list=_this$props4.list,index=_this$props4.index;var _this$state=this.state,editingTitle=_this$state.editingTitle,addingCard=_this$state.addingCard,title=_this$state.title;return/*#__PURE__*/React.createElement(Draggable,{draggableId:list.id,index:index},function(provided,snapshot){return/*#__PURE__*/React.createElement(\"div\",Object.assign({ref:provided.innerRef},provided.draggableProps,provided.dragHandleProps,{className:\"List\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"List\"},editingTitle?/*#__PURE__*/React.createElement(ListEditor,{list:list,title:title,handleChangeTitle:_this2.handleChangeTitle,saveList:_this2.editListTitle,onClickOutside:_this2.editListTitle,deleteList:_this2.deleteList}):/*#__PURE__*/React.createElement(\"div\",{className:\"List-Title\",onClick:_this2.toggleEditingTitle},list.title),addingCard?/*#__PURE__*/React.createElement(CardEditor,{onSave:_this2.addCard,onCancel:_this2.toggleAddingCard,adding:true}):/*#__PURE__*/React.createElement(\"div\",{className:\"Toggle-Add-Card\",onClick:_this2.toggleAddingCard},/*#__PURE__*/React.createElement(\"ion-icon\",{name:\"add\"}),\" Add a card\"),/*#__PURE__*/React.createElement(Droppable,{droppableId:list.id},function(provided,_snapshot){return/*#__PURE__*/React.createElement(\"div\",{ref:provided.innerRef},list.cards&&list.cards.map(function(cardId,index){return/*#__PURE__*/React.createElement(Card,{key:cardId,cardId:cardId,index:index,listId:list.id});}),provided.placeholder);})));});}}]);return List;}(Component);var mapStateToProps=function mapStateToProps(state,ownProps){return{list:state.listsById[ownProps.listId]};};export default connect(mapStateToProps)(List);","map":{"version":3,"sources":["/Users/graj/projects/Personal-Task-Manager/src/components/List.js"],"names":["React","Component","connect","Droppable","Draggable","Card","CardEditor","shortid","ListEditor","List","state","editingTitle","title","props","list","addingCard","toggleAddingCard","setState","addCard","cardText","listId","dispatch","cardId","generate","type","payload","toggleEditingTitle","handleChangeTitle","e","target","value","editListTitle","listTitle","deleteList","cards","index","id","provided","snapshot","innerRef","draggableProps","dragHandleProps","_snapshot","map","placeholder","mapStateToProps","ownProps","listsById"],"mappings":"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","sourcesContent":["import \"../styles/List.css\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Droppable, Draggable } from \"react-beautiful-dnd\";\nimport Card from \"./Card\";\nimport CardEditor from \"./CardEditor\";\nimport shortid from \"shortid\";\nimport ListEditor from \"./ListEditor\";\n\n\nclass List extends Component {\n      state = {\n        editingTitle: false,\n        title: this.props.list.title,\n        addingCard: false\n      };\n      \n//When Adding card cancelled\n toggleAddingCard = () =>\n        this.setState({ addingCard: !this.state.addingCard });\n      \n\n//Add card by calling dispatcher method\naddCard = async cardText => {\n        const { listId, dispatch } = this.props;\n      \n        this.toggleAddingCard();\n      \n        const cardId = shortid.generate();\n      \n        dispatch({\n          type: \"ADD_CARD\",\n          payload: { cardText, cardId, listId }\n        });\n};\n    \n\n//Toggle Editing title and sets editing title to true or false to identify the state\ntoggleEditingTitle = () =>\n      this.setState({ editingTitle: !this.state.editingTitle });\n\n\n//Sets the title value when user types\nhandleChangeTitle = e => this.setState({ title: e.target.value });\n    \n\n//Edit the list title (calling the change List title Dispatcher)\neditListTitle = async () => {\n      const { listId, dispatch } = this.props;\n      const { title } = this.state;\n    \n      this.toggleEditingTitle();\n    \n      dispatch({\n        type: \"CHANGE_LIST_TITLE\",\n        payload: { listId, listTitle: title }\n      });\n};\n    \n//Delete the list \n//Calling the delete Dispatcher method\ndeleteList = async () => {\n      const { listId, list, dispatch } = this.props;\n    \n      dispatch({\n        type: \"DELETE_LIST\",\n        payload: { listId, cards: list.cards }\n      });\n};\n\n  render() {\n    const { list, index } = this.props;\n    const { editingTitle, addingCard, title } = this.state;\n\n    return (\n        <Draggable draggableId={list.id} index={index}>\n        {(provided, snapshot) => (\n            <div\n                ref={provided.innerRef}\n                {...provided.draggableProps}\n                {...provided.dragHandleProps}\n                className=\"List\"\n            >\n\n        <div className=\"List\">\n            {editingTitle ? (\n                <ListEditor\n                list={list}\n                title={title}\n                handleChangeTitle={this.handleChangeTitle}\n                saveList={this.editListTitle}\n                onClickOutside={this.editListTitle}\n                deleteList={this.deleteList}\n                />\n            ) : (\n                <div className=\"List-Title\" onClick={this.toggleEditingTitle}>\n                {list.title}\n                </div>\n            )}\n        \n            {addingCard ? (\n                <CardEditor\n                onSave={this.addCard}\n                onCancel={this.toggleAddingCard}\n                adding\n                />\n            ) : (\n                <div className=\"Toggle-Add-Card\" onClick={this.toggleAddingCard}>\n                <ion-icon name=\"add\" /> Add a card\n                </div>\n            )}\n\n            <Droppable droppableId={list.id}>\n            {(provided, _snapshot) => (\n                <div ref={provided.innerRef}>\n                {list.cards &&\n                    list.cards.map((cardId, index) => (\n                    <Card\n                        key={cardId}\n                        cardId={cardId}\n                        index={index}\n                        listId={list.id}\n                    />\n                    ))}\n\n                {provided.placeholder}\n                </div>\n            )}\n            </Droppable>\n            </div>\n        </div>\n     )}\n    </Draggable>\n    );\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => ({\n  list: state.listsById[ownProps.listId]\n});\n\nexport default connect(mapStateToProps)(List);"]},"metadata":{},"sourceType":"module"}