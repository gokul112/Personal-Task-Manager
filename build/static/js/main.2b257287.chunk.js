(this.webpackJsonptask_board=this.webpackJsonptask_board||[]).push([[0],{32:function(e,t,a){},39:function(e,t,a){e.exports=a(73)},44:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15),i=a.n(c),d=(a(32),a(6)),s=a(7),l=a(9),o=a(8),u=(a(44),a(4)),p=a(14),m=a(3),h=a.n(m),v=a(11),f=(a(50),a(51),a(20)),b=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).ref=r.a.createRef(),e.onEnter=function(t){13===t.keyCode&&(t.preventDefault(),e.props.saveList())},e.handleClick=function(t){e.ref.current.contains(t.target)||e.props.onClickOutside()},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClick,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClick,!1)}},{key:"render",value:function(){var e=this.props,t=e.title,a=e.handleChangeTitle,n=e.deleteList;return r.a.createElement("div",{className:"List-Title-Edit",ref:this.ref},r.a.createElement(f.a,{autoFocus:!0,className:"List-Title-Textarea",placeholder:"Enter list title...",value:t,onChange:a,onKeyDown:this.onEnter,style:{width:n?220:245}}),n&&r.a.createElement("ion-icon",{name:"trash",onClick:n}))}}]),a}(n.Component),g=a(10),E=a.n(g),O=(a(60),function(e){var t=e.handleSave,a=e.saveLabel,n=e.handleDelete,c=e.handleCancel,i=e.handleComment;return r.a.createElement("div",{className:"Edit-Buttons"},t&&r.a.createElement("div",{tabIndex:"0",className:"Edit-Button save",onClick:t},a),n&&r.a.createElement("div",{tabIndex:"0",className:"Edit-Button delete",onClick:n},"Delete ",i),c&&r.a.createElement("div",{tabIndex:"0",className:"Edit-Button-Cancel",onClick:c},r.a.createElement("ion-icon",{name:"close"})))}),C=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={title:""},e.handleChangeTitle=function(t){return e.setState({title:t.target.value})},e.createList=Object(v.a)(h.a.mark((function t(){var a,n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.state.title,n=e.props.dispatch,e.props.toggleAddingList(),n({type:"ADD_LIST",payload:{listId:E.a.generate(),listTitle:a}});case 4:case"end":return t.stop()}}),t)}))),e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.toggleAddingList,t=this.state.title;return r.a.createElement("div",{className:"Add-List-Editor"},r.a.createElement(b,{title:t,handleChangeTitle:this.handleChangeTitle,onClickOutside:e,saveList:this.createList}),r.a.createElement(O,{handleSave:this.createList,saveLabel:"Add list",handleCancel:e}))}}]),a}(n.Component),y=Object(u.b)()(C),j=(a(61),a(62),a(63),function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={text:e.props.text||""},e.handleChangeText=function(t){return e.setState({text:t.target.value})},e.onEnter=function(t){var a=e.state.text;13===t.keyCode&&(t.preventDefault(),e.props.onSave(a))},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.state.text,t=this.props,a=t.onSave,n=t.onCancel,c=t.onDelete,i=t.adding;return r.a.createElement("div",{className:"Edit-Card"},r.a.createElement("div",{className:"Card",onClick:this.onOpen},r.a.createElement(f.a,{autoFocus:!0,className:"Edit-Card-Textarea",placeholder:"Enter the Title/Description for this card...",value:e,onChange:this.handleChangeText,onKeyDown:this.onEnter})),r.a.createElement(O,{handleSave:function(){return a(e)},saveLabel:i?"Add card":"Save",handleDelete:c,handleCancel:n}))}}]),a}(n.Component)),I=a(28),T=a.n(I),L={content:{top:"50%",left:"50%",right:"50%",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}};T.a.setAppElement("#root");var D=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={comments:[]},e.handleChangeText=function(t){return e.setState({comments:t.target.value})},e.addComment=function(){var t=Object(v.a)(h.a.mark((function t(a){var n,r,c,i;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.props,r=n.item,c=n.dispatch,i=e.state.comments,c({type:"ADD_COMMENT_TO_CARD",payload:{comment:i,cardId:r.id}}),e.setState({comments:[]});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.deleteComment=Object(v.a)(h.a.mark((function t(){var a,n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.props,n=a.item,(0,a.dispatch)({type:"DELETE_COMMENT",payload:{cardId:n.id}});case 2:case"end":return t.stop()}}),t)}))),e}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.state.comments,a=this.props,n=a.show,c=a.onClose,i=a.item,d=a.deleteCard;return r.a.createElement(T.a,{isOpen:n,onRequestClose:c,style:L,overlayClassName:"overlay"},r.a.createElement("div",null,r.a.createElement("button",{className:"pull-right",onClick:c},"X"),r.a.createElement("h1",{style:{flex:"1 90%"}},i.text),r.a.createElement("div",{className:"pull-right"},r.a.createElement(O,{handleDelete:function(){return d()},handleComment:"Card"}))),r.a.createElement("div",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"Comments"},"Comments"),r.a.createElement("textarea",{className:"form-control",id:"Comments",rows:"3",value:t,onChange:this.handleChangeText})),r.a.createElement(O,{handleSave:function(){return e.addComment(t)},saveLabel:"Add Comment",handleDelete:function(){return e.deleteComment()},handleComment:"Comments"}),r.a.createElement("h2",null,"Previous Comments"),i.comment&&i.comment.map((function(e){return r.a.createElement("div",{key:E.a.generate()},e)}))))}}]),a}(n.Component),A=Object(u.b)((function(e,t){return{card:e.cardsById[t.cardId]}}))(D),x=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={hover:!1,editing:!1,show:!1},e.startHover=function(){return e.setState({hover:!0})},e.endHover=function(){return e.setState({hover:!1})},e.startEditing=function(){return e.setState({hover:!1,editing:!0,text:e.props.card.text})},e.endEditing=function(){return e.setState({hover:!1,editing:!1})},e.editCard=function(){var t=Object(v.a)(h.a.mark((function t(a){var n,r,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.props,r=n.card,c=n.dispatch,e.endEditing(),c({type:"CHANGE_CARD_TEXT",payload:{cardId:r.id,cardText:a}});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.deleteCard=Object(v.a)(h.a.mark((function t(){var a,n,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.props,n=a.listId,r=a.card,(0,a.dispatch)({type:"DELETE_CARD",payload:{cardId:r.id,listId:n}});case 2:case"end":return t.stop()}}),t)}))),e.onOpen=function(){return e.setState({show:!0})},e.onClose=function(t){t.stopPropagation(),e.setState({show:!1})},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.card,n=t.index,c=t.listId,i=this.state,d=i.hover,s=i.editing,l=i.show;return s?r.a.createElement(j,{text:a.text,onSave:this.editCard,onDelete:this.deleteCard,onCancel:this.endEditing}):r.a.createElement(p.b,{draggableId:a.id,index:n},(function(t,n){return r.a.createElement("div",Object.assign({ref:t.innerRef},t.draggableProps,t.dragHandleProps,{className:"Card",onMouseEnter:e.startHover,onMouseLeave:e.endHover}),d&&r.a.createElement("div",{className:"Card-Icons"},r.a.createElement("div",{className:"Card-Icon",onClick:e.startEditing},r.a.createElement("ion-icon",{name:"create"}))),r.a.createElement("div",{onClick:e.onOpen}," ",a.text),l&&r.a.createElement(A,{item:a,onClose:e.onClose,show:l,listId:c,deleteCard:e.deleteCard}))}))}}]),a}(n.Component),k=Object(u.b)((function(e,t){return{card:e.cardsById[t.cardId]}}))(x),w=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={editingTitle:!1,title:e.props.list.title,addingCard:!1},e.toggleAddingCard=function(){return e.setState({addingCard:!e.state.addingCard})},e.addCard=function(){var t=Object(v.a)(h.a.mark((function t(a){var n,r,c,i;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.props,r=n.listId,c=n.dispatch,e.toggleAddingCard(),i=E.a.generate(),c({type:"ADD_CARD",payload:{cardText:a,cardId:i,listId:r}});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.toggleEditingTitle=function(){return e.setState({editingTitle:!e.state.editingTitle})},e.handleChangeTitle=function(t){return e.setState({title:t.target.value})},e.editListTitle=Object(v.a)(h.a.mark((function t(){var a,n,r,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.props,n=a.listId,r=a.dispatch,c=e.state.title,e.toggleEditingTitle(),r({type:"CHANGE_LIST_TITLE",payload:{listId:n,listTitle:c}});case 4:case"end":return t.stop()}}),t)}))),e.deleteList=Object(v.a)(h.a.mark((function t(){var a,n,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.props,n=a.listId,r=a.list,(0,a.dispatch)({type:"DELETE_LIST",payload:{listId:n,cards:r.cards}});case 2:case"end":return t.stop()}}),t)}))),e}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.list,n=t.index,c=this.state,i=c.editingTitle,d=c.addingCard,s=c.title;return r.a.createElement(p.b,{draggableId:a.id,index:n},(function(t,n){return r.a.createElement("div",Object.assign({ref:t.innerRef},t.draggableProps,t.dragHandleProps,{className:"List"}),r.a.createElement("div",{className:"List"},i?r.a.createElement(b,{list:a,title:s,handleChangeTitle:e.handleChangeTitle,saveList:e.editListTitle,onClickOutside:e.editListTitle,deleteList:e.deleteList}):r.a.createElement("div",{className:"List-Title",onClick:e.toggleEditingTitle},a.title),d?r.a.createElement(j,{onSave:e.addCard,onCancel:e.toggleAddingCard,adding:!0}):r.a.createElement("div",{className:"Toggle-Add-Card",onClick:e.toggleAddingCard},r.a.createElement("ion-icon",{name:"add"})," Add a card"),r.a.createElement(p.c,{droppableId:a.id},(function(e,t){return r.a.createElement("div",{ref:e.innerRef},a.cards&&a.cards.map((function(e,t){return r.a.createElement(k,{key:e,cardId:e,index:t,listId:a.id})})),e.placeholder)}))))}))}}]),a}(n.Component),S=Object(u.b)((function(e,t){return{list:e.listsById[t.listId]}}))(w),_=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={addingList:!1},e.toggleAddingList=function(){return e.setState({addingList:!e.state.addingList})},e.handleDragEnd=function(t){var a=t.source,n=t.destination,r=t.type;if(n){var c=e.props.dispatch;"COLUMN"!==r?a.index===n.index&&a.droppableId===n.droppableId||c({type:"MOVE_CARD",payload:{sourceListId:a.droppableId,destListId:n.droppableId,oldCardIndex:a.index,newCardIndex:n.index}}):a.index!==n.index&&c({type:"MOVE_LIST",payload:{oldListIndex:a.index,newListIndex:n.index}})}},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.props.board,a=this.state.addingList;return r.a.createElement(p.a,{onDragEnd:this.handleDragEnd},r.a.createElement(p.c,{droppableId:"board",direction:"horizontal",type:"COLUMN"},(function(n,c){return r.a.createElement("div",{className:"Board",ref:n.innerRef},t.lists.map((function(e,t){return r.a.createElement(S,{listId:e,key:e,index:t})})),n.placeholder,r.a.createElement("div",{className:"Add-List"},a?r.a.createElement(y,{toggleAddingList:e.toggleAddingList}):r.a.createElement("div",{onClick:e.toggleAddingList,className:"Add-List-Button"},r.a.createElement("ion-icon",{name:"add"})," Add a list")))})))}}]),a}(n.Component),N=Object(u.b)((function(e){return{board:e.board}}))(_);var R=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"Header"},"Personal Task Manager"),r.a.createElement(N,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var M=a(30),B=a(29),H=a(5),P=a(2),G=a(22),J=a(21),V=a(12),W=a(38),F=a.n(W),U=Object(V.c)({board:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{lists:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_LIST":var a=t.payload.listId;return{lists:[].concat(Object(J.a)(e.lists),[a])};case"MOVE_LIST":var n=t.payload,r=n.oldListIndex,c=n.newListIndex,i=Array.from(e.lists),d=i.splice(r,1),s=Object(G.a)(d,1),l=s[0];return i.splice(c,0,l),{lists:i};case"DELETE_LIST":var o=t.payload.listId,u=function(e){return e!==o},p=e.lists.filter(u);return{lists:p};default:return e}},listsById:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_LIST":var a=t.payload,n=a.listId,r=a.listTitle;return Object(P.a)(Object(P.a)({},e),{},Object(H.a)({},n,{id:n,title:r,cards:[]}));case"CHANGE_LIST_TITLE":var c=t.payload,i=c.listId,d=c.listTitle;return Object(P.a)(Object(P.a)({},e),{},Object(H.a)({},i,Object(P.a)(Object(P.a)({},e[i]),{},{title:d})));case"DELETE_LIST":var s=t.payload.listId,l=(e[s],Object(M.a)(e,[s].map(B.a)));return l;case"ADD_CARD":var o=t.payload,u=o.listId,p=o.cardId;return Object(P.a)(Object(P.a)({},e),{},Object(H.a)({},u,Object(P.a)(Object(P.a)({},e[u]),{},{cards:[].concat(Object(J.a)(e[u].cards),[p])})));case"MOVE_CARD":var m,h=t.payload,v=h.oldCardIndex,f=h.newCardIndex,b=h.sourceListId,g=h.destListId;if(b===g){var E=Array.from(e[b].cards),O=E.splice(v,1),C=Object(G.a)(O,1),y=C[0];return E.splice(f,0,y),Object(P.a)(Object(P.a)({},e),{},Object(H.a)({},b,Object(P.a)(Object(P.a)({},e[b]),{},{cards:E})))}var j=Array.from(e[b].cards),I=j.splice(v,1),T=Object(G.a)(I,1),L=T[0],D=Array.from(e[g].cards);return D.splice(f,0,L),Object(P.a)(Object(P.a)({},e),{},(m={},Object(H.a)(m,b,Object(P.a)(Object(P.a)({},e[b]),{},{cards:j})),Object(H.a)(m,g,Object(P.a)(Object(P.a)({},e[g]),{},{cards:D})),m));case"DELETE_CARD":var A=t.payload,x=A.cardId,k=A.listId,w=function(e){return e!==x};return Object(P.a)(Object(P.a)({},e),{},Object(H.a)({},k,Object(P.a)(Object(P.a)({},e[k]),{},{cards:e[k].cards.filter(w)})));default:return e}},cardsById:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_CARD":var a=t.payload,n=a.cardText,r=a.cardId;return Object(P.a)(Object(P.a)({},e),{},Object(H.a)({},r,{text:n,id:r,comment:[]}));case"CHANGE_CARD_TEXT":var c=t.payload,i=c.cardText,d=c.cardId;return Object(P.a)(Object(P.a)({},e),{},Object(H.a)({},d,Object(P.a)(Object(P.a)({},e[d]),{},{text:i})));case"ADD_COMMENT_TO_CARD":var s=t.payload,l=s.comment,o=s.cardId;return Object(P.a)(Object(P.a)({},e),{},Object(H.a)({},o,Object(P.a)(Object(P.a)({},e[o]),{},{comment:[].concat(Object(J.a)(e[o].comment),[l])})));case"DELETE_COMMENT":var u=t.payload.cardId;return Object(P.a)(Object(P.a)({},e),{},Object(H.a)({},u,Object(P.a)(Object(P.a)({},e[u]),{},{comment:[]})));case"DELETE_CARD":var p=t.payload.cardId,m=(e[p],Object(M.a)(e,[p].map(B.a)));return m;case"DELETE_LIST":var h=t.payload.cards;return Object.keys(e).filter((function(e){return!h.includes(e)})).reduce((function(t,a){return Object(P.a)(Object(P.a)({},t),{},Object(H.a)({},a,e[a]))}),{});default:return e}}}),X=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return}}(),K=Object(V.e)(U,X);K.subscribe(F()((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(a){}}(K.getState())}),1e3)),console.log(K.getState()),K.getState().board.lists.length||(console.log("data feed"),function(e){console.log("Insert first list");var t=E.a.generate();e.dispatch({type:"ADD_LIST",payload:{listId:t,listTitle:"Badminton"}}),e.dispatch({type:"ADD_CARD",payload:{listId:t,cardId:E.a.generate(),cardText:"Play on weekends"}}),e.dispatch({type:"ADD_CARD",payload:{listId:t,cardId:E.a.generate(),cardText:"Play daily if it is badminton month"}});var a=E.a.generate();e.dispatch({type:"ADD_LIST",payload:{listId:a,listTitle:"Cycling"}}),e.dispatch({type:"ADD_CARD",payload:{listId:a,cardId:E.a.generate(),cardText:"Daily 30kms ride"}}),e.dispatch({type:"ADD_CARD",payload:{listId:a,cardId:E.a.generate(),cardText:"Daily Commute to Work"}})}(K));var q=K;i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(u.a,{store:q},r.a.createElement(R,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[39,1,2]]]);
//# sourceMappingURL=main.2b257287.chunk.js.map